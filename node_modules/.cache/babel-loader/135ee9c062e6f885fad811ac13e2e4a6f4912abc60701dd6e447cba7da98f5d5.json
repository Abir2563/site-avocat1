{"ast":null,"code":"import React,{useEffect,useState}from'react';import{BsFillArchiveFill,BsFillGrid3X3GapFill,BsPeopleFill,BsFillBellFill}from'react-icons/bs';import{BarChart,Bar,CartesianGrid,XAxis,YAxis,Tooltip,Legend,ResponsiveContainer}from'recharts';import axios from'axios';// Pour les requêtes API\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function Home(){const[productCount,setProductCount]=useState(0);const[orderCount,setOrderCount]=useState(0);const[clientCount,setClientCount]=useState(0);// Nouvel état pour le comptage des clients\n// Récupération du nombre de produits\nuseEffect(()=>{const fetchProductCount=async()=>{try{const response=await axios.get('https://avocat-backend.onrender.com/api/appointments/');setProductCount(response.data.count);}catch(err){console.error('Erreur lors de la récupération du nombre de produits:',err);}};fetchProductCount();},[]);// Exécution une seule fois au montage\n// Récupération du nombre de commandes\nuseEffect(()=>{const fetchOrderCount=async()=>{try{const response=await axios.get('https://avocat-backend.onrender.com/auth/commandes/count');setOrderCount(response.data.count);}catch(err){console.error('Erreur lors de la récupération du nombre de commandes:',err);}};fetchOrderCount();},[]);// Exécution une seule fois au montage\n// Récupération du nombre de clients\nuseEffect(()=>{const fetchClientCount=async()=>{try{const response=await axios.get('https://avocat-backend.onrender.com/auth/client/count');setClientCount(response.data.count);// Assurez-vous que la réponse renvoie \"count\"\n}catch(err){console.error('Erreur lors de la récupération du nombre de clients:',err);}};fetchClientCount();},[]);// Exécution une seule fois au montage\nconst data=[{name:'Janvier',QP:120,QV:80,amt:2400},{name:'Février',QP:100,QV:90,amt:2400},{name:'Mars',QP:150,QV:120,amt:2210},{name:'Avril ',QP:200,QV:180,amt:2290},{name:'Mai',QP:100,QV:130,amt:2000},{name:' Juin ',QP:160,QV:150,amt:2181},{name:'Juillet ',QP:100,QV:100,amt:2500},{name:'Aout',QP:160,QV:90,amt:2100}];return/*#__PURE__*/_jsx(\"main\",{className:\"main-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"main-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"main-title\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"Dashboard 2024\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"main-cards\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-inner\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Appointments\"}),/*#__PURE__*/_jsx(BsFillArchiveFill,{className:\"card_icon\"})]}),/*#__PURE__*/_jsx(\"h1\",{children:productCount}),\" \"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-inner\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Consultations\"}),/*#__PURE__*/_jsx(BsFillGrid3X3GapFill,{className:\"card_icon\"})]}),/*#__PURE__*/_jsx(\"h1\",{children:orderCount}),\" \"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-inner\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Clients\"}),/*#__PURE__*/_jsx(BsPeopleFill,{className:\"card_icon\"})]}),/*#__PURE__*/_jsx(\"h1\",{children:clientCount}),\" \"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-inner\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"MESSAGES\"}),/*#__PURE__*/_jsx(BsFillBellFill,{className:\"card_icon\"})]}),/*#__PURE__*/_jsx(\"h1\",{children:\"10\"}),\" \"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"charts\",children:[/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:\"100%\",children:/*#__PURE__*/_jsxs(BarChart,{width:500,height:300,data:data,margin:{top:20,right:30,left:20,bottom:5},children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"name\"}),/*#__PURE__*/_jsx(YAxis,{}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Legend,{}),/*#__PURE__*/_jsx(Bar,{dataKey:\"QP\",stackId:\"a\",fill:\"#000000\"})]})})}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:\"100%\",children:/*#__PURE__*/_jsxs(BarChart,{width:800,height:400,data:data,margin:{top:5,right:30,left:20,bottom:5},children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"name\"}),/*#__PURE__*/_jsx(YAxis,{}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Legend,{}),/*#__PURE__*/_jsx(Bar,{dataKey:\"QV\",fill:\"#00000\"})]})})]})]})});}export default Home;","map":{"version":3,"names":["React","useEffect","useState","BsFillArchiveFill","BsFillGrid3X3GapFill","BsPeopleFill","BsFillBellFill","BarChart","Bar","CartesianGrid","XAxis","YAxis","Tooltip","Legend","ResponsiveContainer","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Home","productCount","setProductCount","orderCount","setOrderCount","clientCount","setClientCount","fetchProductCount","response","get","data","count","err","console","error","fetchOrderCount","fetchClientCount","name","QP","QV","amt","className","children","width","height","margin","top","right","left","bottom","strokeDasharray","dataKey","stackId","fill"],"sources":["C:/Users/RanimSaidi/Desktop/siteavocat-dev-Client/src/components/admin/admin/Home.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport {\n  BsFillArchiveFill,\n  BsFillGrid3X3GapFill,\n  BsPeopleFill,\n  BsFillBellFill,\n} from 'react-icons/bs';\nimport {\n  BarChart,\n  Bar,\n  CartesianGrid,\n  XAxis,\n  YAxis,\n  Tooltip,\n  Legend,\n  ResponsiveContainer,\n} from 'recharts';\nimport axios from 'axios'; // Pour les requêtes API\n\nfunction Home() {\n  const [productCount, setProductCount] = useState(0);\n  const [orderCount, setOrderCount] = useState(0);\n  const [clientCount, setClientCount] = useState(0); // Nouvel état pour le comptage des clients\n\n  // Récupération du nombre de produits\n  useEffect(() => {\n    const fetchProductCount = async () => {\n      try {\n        const response = await axios.get('https://avocat-backend.onrender.com/api/appointments/');\n        setProductCount(response.data.count);\n      } catch (err) {\n        console.error('Erreur lors de la récupération du nombre de produits:', err);\n      }\n    };\n\n    fetchProductCount();\n  }, []); // Exécution une seule fois au montage\n\n  // Récupération du nombre de commandes\n  useEffect(() => {\n    const fetchOrderCount = async () => {\n      try {\n        const response = await axios.get('https://avocat-backend.onrender.com/auth/commandes/count');\n        setOrderCount(response.data.count);\n      } catch (err) {\n        console.error('Erreur lors de la récupération du nombre de commandes:', err);\n      }\n    };\n\n    fetchOrderCount();\n  }, []); // Exécution une seule fois au montage\n\n  // Récupération du nombre de clients\n  useEffect(() => {\n    const fetchClientCount = async () => {\n      try {\n        const response = await axios.get('https://avocat-backend.onrender.com/auth/client/count');\n        setClientCount(response.data.count); // Assurez-vous que la réponse renvoie \"count\"\n      } catch (err) {\n        console.error('Erreur lors de la récupération du nombre de clients:', err);\n      }\n    };\n\n    fetchClientCount();\n  }, []); // Exécution une seule fois au montage\n\n  const data = [\n    {\n      name:'Janvier',\n      QP: 120,\n      QV: 80,\n      amt: 2400,\n    },\n    {\n      name: 'Février',\n      QP: 100,\n     QV: 90,\n      amt: 2400,\n    },\n    {\n      name: 'Mars',\n      QP: 150,\n      QV: 120,\n      amt: 2210,\n    },\n    {\n      name: 'Avril ',\n      QP: 200,\n     QV:180,\n      amt: 2290,\n    },\n    {\n      name: 'Mai',\n      QP: 100,\n      QV: 130,\n      amt: 2000,\n    },\n    {\n      name: ' Juin ',\n     QP: 160,\n      QV: 150,\n      amt: 2181,\n    },\n    {\n      name: 'Juillet ',\n      QP: 100,\n      QV: 100,\n      amt: 2500,\n    },\n    {\n      name: 'Aout',\n      QP: 160,\n      QV: 90,\n      amt: 2100,\n    },\n    \n  ];\n\n  return (\n   <main className='main-container'>\n    <div className='main-container'>\n      <div className='main-title'>\n        <h3>Dashboard 2024</h3>\n      </div>\n\n      <div className='main-cards'>\n        <div className='card'>\n          <div className='card-inner'>\n            <h3>Appointments</h3>\n            <BsFillArchiveFill className='card_icon' />\n          </div>\n          <h1>{productCount}</h1> {/* Affiche le nombre de produits */}\n        </div>\n\n        <div className='card'>\n          <div className='card-inner'>\n            <h3>Consultations</h3>\n            <BsFillGrid3X3GapFill className='card_icon' />\n          </div>\n          <h1>{orderCount}</h1> {/* Affiche le nombre de commandes */}\n        </div>\n\n        <div className='card'>\n          <div className='card-inner'>\n            <h3>Clients</h3>\n            <BsPeopleFill className='card_icon' />\n          </div>\n          <h1>{clientCount}</h1> {/* Affiche le nombre de clients */}\n        </div>\n\n        <div className='card'>\n          <div className='card-inner'>\n            <h3>MESSAGES</h3>\n            <BsFillBellFill className='card_icon' />\n          </div>\n          <h1>10</h1> {/* Affiche le nombre de messages */}\n        </div>\n      </div>\n\n      <div className='charts'>\n        <>\n<ResponsiveContainer width=\"100%\" height=\"100%\">\n<BarChart\n  width={500}\n  height={300}\n  data={data}\n  margin={{\n    top: 20,\n    right: 30,\n    left: 20,\n    bottom: 5,\n  }}\n>\n  <CartesianGrid strokeDasharray=\"3 3\" />\n  <XAxis dataKey=\"name\" />\n  <YAxis />\n  <Tooltip />\n  <Legend />\n  <Bar dataKey=\"QP\" stackId=\"a\" fill=\"#000000\" />\n  \n</BarChart>\n</ResponsiveContainer></>\n            <ResponsiveContainer width=\"100%\" height=\"100%\">\n            <BarChart\n            width={800}\n            height={400}\n            data={data}\n            margin={{\n                top: 5,\n                right: 30,\n                left: 20,\n                bottom: 5,\n            }}\n            >\n                <CartesianGrid strokeDasharray=\"3 3\" />\n                <XAxis dataKey=\"name\" />\n                <YAxis />\n                <Tooltip />\n                <Legend />\n                \n                <Bar dataKey=\"QV\" fill=\"#00000\" />\n                </BarChart>\n            </ResponsiveContainer>\n          </div>\n        </div>\n    </main>\n  );\n}\n\nexport default Home;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}