{"ast":null,"code":"import React,{useState}from'react';import{useNavigate,Link}from'react-router-dom';import axios from'axios';import NavAdmin from'../Navadmin';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Create(){const[formData,setFormData]=useState({firstName:'',lastName:'',email:'',password:''});const[userId,setUserId]=useState(null);const[error,setError]=useState(null);const navigate=useNavigate();const handleSubmit=event=>{event.preventDefault();const token=localStorage.getItem('token');// Retrieve the token from local storage\nif(!token){setError(\"No authentication token found.\");return;}axios.post('http://localhost:8080/api/admin/add',formData,{headers:{Authorization:`Bearer ${token}`// Use the token in the Authorization header\n}}).then(res=>{console.log(\"User created:\",res.data);setUserId(res.data.userId);navigate('/appuser');}).catch(err=>{console.error(\"Error creating user:\",err);setError(err.response.data.message||\"Error creating user. Please try again.\");});};const handleChange=e=>{const{name,value}=e.target;setFormData({...formData,[name]:value});};return/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex w-100 vh-100 justify-content-center align-items-center bg-light\",children:[/*#__PURE__*/_jsx(NavAdmin,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-50 border bg-white shadow px-5 pt-3 pb-5 rounded\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Add User\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"firstName\",children:\"First Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"firstName\",className:\"form-control\",placeholder:\"Enter first name\",value:formData.firstName,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"lastName\",children:\"Last Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"lastName\",className:\"form-control\",placeholder:\"Enter last name\",value:formData.lastName,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",className:\"form-control\",placeholder:\"Enter email\",value:formData.email,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",className:\"form-control\",placeholder:\"Enter password\",value:formData.password,onChange:handleChange})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-success\",children:\"Submit\"}),/*#__PURE__*/_jsx(Link,{to:\"/appuser\",className:\"btn btn-primary ms-3\",children:\"Back\"})]}),userId&&/*#__PURE__*/_jsxs(\"p\",{children:[\"User ID created: \",userId]}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:error})]})]});}export default Create;","map":{"version":3,"names":["React","useState","useNavigate","Link","axios","NavAdmin","jsx","_jsx","jsxs","_jsxs","Create","formData","setFormData","firstName","lastName","email","password","userId","setUserId","error","setError","navigate","handleSubmit","event","preventDefault","token","localStorage","getItem","post","headers","Authorization","then","res","console","log","data","catch","err","response","message","handleChange","e","name","value","target","className","children","onSubmit","htmlFor","type","placeholder","onChange","to"],"sources":["C:/siteavocat-dev/src/components/admin/admin/user/Create.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\nimport axios from 'axios';\nimport NavAdmin from '../Navadmin';\n\nfunction Create() {\n    const [formData, setFormData] = useState({\n        firstName: '',\n        lastName: '',\n        email: '',\n        password: ''\n    });\n    const [userId, setUserId] = useState(null);\n    const [error, setError] = useState(null);\n    const navigate = useNavigate();\n\n    const handleSubmit = (event) => {\n        event.preventDefault();\n        const token = localStorage.getItem('token'); // Retrieve the token from local storage\n\n        if (!token) {\n            setError(\"No authentication token found.\");\n            return;\n        }\n\n        axios.post('http://localhost:8080/api/admin/add', formData, {\n            headers: {\n                Authorization: `Bearer ${token}` // Use the token in the Authorization header\n            }\n        })\n        .then(res => {\n            console.log(\"User created:\", res.data);\n            setUserId(res.data.userId);\n            navigate('/appuser');\n        })\n        .catch(err => {\n            console.error(\"Error creating user:\", err);\n            setError(err.response.data.message || \"Error creating user. Please try again.\");\n        });\n    };\n\n    const handleChange = (e) => {\n        const { name, value } = e.target;\n        setFormData({ ...formData, [name]: value });\n    };\n\n    return (\n        <div className=\"d-flex w-100 vh-100 justify-content-center align-items-center bg-light\">\n            <NavAdmin/>\n            <div className=\"w-50 border bg-white shadow px-5 pt-3 pb-5 rounded\">\n                <h1>Add User</h1>\n                <form onSubmit={handleSubmit}>\n                    <div className=\"mb-2\">\n                        <label htmlFor=\"firstName\">First Name:</label>\n                        <input\n                            type=\"text\"\n                            name=\"firstName\"\n                            className=\"form-control\"\n                            placeholder=\"Enter first name\"\n                            value={formData.firstName}\n                            onChange={handleChange}\n                        />\n                    </div>\n                    <div className=\"mb-2\">\n                        <label htmlFor=\"lastName\">Last Name:</label>\n                        <input\n                            type=\"text\"\n                            name=\"lastName\"\n                            className=\"form-control\"\n                            placeholder=\"Enter last name\"\n                            value={formData.lastName}\n                            onChange={handleChange}\n                        />\n                    </div>\n                    <div className=\"mb-2\">\n                        <label htmlFor=\"email\">Email:</label>\n                        <input\n                            type=\"email\"\n                            name=\"email\"\n                            className=\"form-control\"\n                            placeholder=\"Enter email\"\n                            value={formData.email}\n                            onChange={handleChange}\n                        />\n                    </div>\n                    <div className=\"mb-2\">\n                        <label htmlFor=\"password\">Password:</label>\n                        <input\n                            type=\"password\"\n                            name=\"password\"\n                            className=\"form-control\"\n                            placeholder=\"Enter password\"\n                            value={formData.password}\n                            onChange={handleChange}\n                        />\n                    </div>\n\n                    <button type=\"submit\" className=\"btn btn-success\">Submit</button>\n                    <Link to=\"/appuser\" className=\"btn btn-primary ms-3\">Back</Link>\n                </form>\n\n                {userId && <p>User ID created: {userId}</p>}\n                {error && <p className=\"text-danger\">{error}</p>}\n            </div>\n        </div>\n    );\n}\n\nexport default Create;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}