{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{Link}from\"react-router-dom\";import\"./navbar.css\";import userIcon from\"../../images/Name.png\";import logo from\"../../images/a.ico\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Navbar(){const[userRole,setUserRole]=useState(\"\");const[isOpen,setIsOpen]=useState(false);const handleToggle=()=>setIsOpen(!isOpen);const[isLoggedIn,setIsLoggedIn]=useState(false);useEffect(()=>{// Check if user is logged in\nconst token=localStorage.getItem(\"token\");if(token){setIsLoggedIn(true);const role=localStorage.getItem(\"role\");setUserRole(role);}else{setIsLoggedIn(false);}},[]);const handleLogout=()=>{localStorage.removeItem(\"token\");setIsLoggedIn(false);// Redirect user to login page after logout\nwindow.location.href=\"/login\";};const handleReserverClick=()=>{if(!isLoggedIn&&userRole===\"client\"){// Redirect user to login page if not logged in\nwindow.location.href=\"/login\";}else{window.location.href=\"/reserver\";}};const handleProfileClick=()=>{if(isLoggedIn&&userRole===\"client\"){window.location.href=\"/profile\";}else{// Redirect user to login page if not authenticated or not a client\nwindow.location.href=\"/login\";}};return/*#__PURE__*/_jsxs(\"nav\",{className:\"Navbar\",id:\"Navb\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"/home\",className:\"log\",children:/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"logo\",className:\"logo1\"})}),/*#__PURE__*/_jsx(\"div\",{className:`nav-toggle`,onClick:handleToggle,children:\"\\u2630\"}),/*#__PURE__*/_jsxs(\"ul\",{className:`navigation ${isOpen?'show':''}`,children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/home\",className:\"linknav\",children:\"Accueil\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/team\",className:\"linknav\",children:\"\\xC9quipe\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/service\",className:\"linknav\",children:\"Services\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/contactus\",className:\"linknav\",children:\"Contactez-Nous\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/media\",className:\"linknav\",children:\"M\\xE9dia\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/newsletter\",className:\"linknav\",children:/*#__PURE__*/_jsx(\"a\",{className:\"linknav\",href:\"#\",children:\"Newsletter\"})})})]}),/*#__PURE__*/_jsx(\"div\",{})]});}export default Navbar;","map":{"version":3,"names":["React","useState","useEffect","Link","userIcon","logo","jsx","_jsx","jsxs","_jsxs","Navbar","userRole","setUserRole","isOpen","setIsOpen","handleToggle","isLoggedIn","setIsLoggedIn","token","localStorage","getItem","role","handleLogout","removeItem","window","location","href","handleReserverClick","handleProfileClick","className","id","children","src","alt","onClick","to"],"sources":["C:/siteavocat-dev/src/components/navbar/navbar.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./navbar.css\";\nimport userIcon from \"../../images/Name.png\";\nimport logo from \"../../images/a.ico\";\n\nfunction Navbar() {\n  \n  const [userRole, setUserRole] = useState(\"\");\n  const [isOpen, setIsOpen] = useState(false);\n  const handleToggle = () => setIsOpen(!isOpen);\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n\n  useEffect(() => {\n    // Check if user is logged in\n    const token = localStorage.getItem(\"token\");\n    if (token) {\n      setIsLoggedIn(true);\n      const role = localStorage.getItem(\"role\");\n      setUserRole(role);\n    } else {\n      setIsLoggedIn(false);\n    }\n  }, []);\n\n  const handleLogout = () => {\n    localStorage.removeItem(\"token\");\n    setIsLoggedIn(false);\n    // Redirect user to login page after logout\n    window.location.href = \"/login\";\n  };\n\n  const handleReserverClick = () => {\n    if (!isLoggedIn && userRole === \"client\") {\n      // Redirect user to login page if not logged in\n      window.location.href = \"/login\";\n    } else {\n      window.location.href = \"/reserver\";\n    }\n  };\n\n  const handleProfileClick = () => {\n    if (isLoggedIn && userRole === \"client\") {\n      window.location.href = \"/profile\";\n    } else {\n      // Redirect user to login page if not authenticated or not a client\n      window.location.href = \"/login\";\n    }\n  };\n\n  return (\n    <nav className=\"Navbar\" id=\"Navb\">\n      <a href=\"/home\" className=\"log\">\n        <img src={logo} alt=\"logo\" className=\"logo1\"/>\n      </a>\n      <div className={`nav-toggle`} onClick={handleToggle}>\n            ☰\n      </div>\n      <ul className={`navigation ${isOpen ? 'show' : ''}`}>\n        <li>\n          <Link to=\"/home\" className=\"linknav\">\n          Accueil\n          </Link>\n        </li>\n        <li>\n          <Link to=\"/team\" className=\"linknav\">\n          Équipe\n          </Link>\n        </li>\n        <li>\n          <Link to=\"/service\" className=\"linknav\">\n            Services\n          </Link>\n        </li>\n        <li>\n          <Link to=\"/contactus\" className=\"linknav\">\n          Contactez-Nous\n          </Link>\n        </li>\n        <li>\n          <Link to=\"/media\" className=\"linknav\">\n          Média\n          </Link>\n        </li>\n        <li>\n              <Link to=\"/newsletter\" className=\"linknav\">\n                <a className=\"linknav\" href=\"#\">\n                  Newsletter\n                </a>\n              </Link>\n        </li>\n      </ul>\n\n      <div>\n        {/*<select className=\"fr-en\">\n          <option className=\"linknavfr-en\" value=\"fr\">\n            Fr\n          </option>\n          <option className=\"linknavfr-en\" value=\"en\">\n            ENG\n          </option>\n                \n        </select>\n        <a onClick={handleProfileClick}>\n          <img src={userIcon} alt=\"log\" className=\"profil\" />\n        </a>\n        {isLoggedIn && userRole === \"client\" && (\n          <button className=\"dbu\" onClick={handleLogout}>\n            Disconnect\n          </button>\n        )}\n\n        <Link\n          to=\"/login\"\n          onMouseEnter={() => {\n            document.querySelector(\".actionButton\").classList.add(\"hover\");\n          }}\n          onMouseLeave={() => {\n            document.querySelector(\".actionButton\").classList.remove(\"hover\");\n          }}\n        >\n          <button className=\"actionButton\">Calendrier</button>\n        </Link>*/}\n      </div>\n    </nav>\n  );\n}\n\nexport default Navbar;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}