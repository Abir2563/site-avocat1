{"ast":null,"code":"import axios from\"axios\";import React,{useEffect,useState}from\"react\";import{Link,useNavigate,useParams}from\"react-router-dom\";import\"./update.css\";// Import CSS file\nimport Navadmin from'../Navadmin';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function UpdateAppointmentStatus(){const{id}=useParams();const navigate=useNavigate();const[status,setStatus]=useState('');const[error,setError]=useState('');const token=localStorage.getItem('token');// Get token from local storage\nuseEffect(()=>{axios.get(`http://localhost:8080/api/appointment/${id}`,{// Send token with GET request\nheaders:{Authorization:`Bearer ${token}`}}).then(res=>{setStatus(res.data.status);}).catch(err=>{console.error(err);setError(err.response.data.message||\"An error occurred\");});},[id,token]);const handleConfirm=()=>{axios.put(`http://localhost:8080/api/appointment/confirm/${id}`,null,{// Send token with PUT request\nheaders:{Authorization:`Bearer ${token}`}}).then(res=>{console.log(res);navigate('/AppPoint');}).catch(err=>{console.error(err);setError(err.response.data.message||\"An error occurred\");});};const handleDeny=()=>{axios.put(`http://localhost:8080/api/appointment/deny/${id}`,null,{// Send token with PUT request\nheaders:{Authorization:`Bearer ${token}`}}).then(res=>{console.log(res);navigate('/AppPoint');}).catch(err=>{console.error(err);setError(err.response.data.message||\"An error occurred\");});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navadmin,{}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"moraba3\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"title\",children:\"Update Appointment Status\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:error}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"h3\",{children:[\"Status: \",status]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"button-group\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleConfirm,className:\"btn btn-success button\",children:\"Confirm\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDeny,className:\"btn btn-danger button\",children:\"Deny\"}),/*#__PURE__*/_jsx(Link,{to:\"/AppPoint\",className:\"btn btn-primary button\",children:\"Back\"})]})]})})]});}export default UpdateAppointmentStatus;","map":{"version":3,"names":["axios","React","useEffect","useState","Link","useNavigate","useParams","Navadmin","jsx","_jsx","jsxs","_jsxs","UpdateAppointmentStatus","id","navigate","status","setStatus","error","setError","token","localStorage","getItem","get","headers","Authorization","then","res","data","catch","err","console","response","message","handleConfirm","put","log","handleDeny","children","className","onClick","to"],"sources":["C:/Users/RanimSaidi/Desktop/siteavocat-dev-Client/src/components/admin/admin/appointments/UpdatePointt.jsx"],"sourcesContent":["import axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { Link, useNavigate, useParams } from \"react-router-dom\";\nimport \"./update.css\"; // Import CSS file\nimport Navadmin from '../Navadmin';\nfunction UpdateAppointmentStatus() {\n    const { id } = useParams();\n    const navigate = useNavigate();\n    const [status, setStatus] = useState('');\n    const [error, setError] = useState('');\n    const token = localStorage.getItem('token'); // Get token from local storage\n\n    useEffect(() => {\n        axios.get(`http://localhost:8080/api/appointment/${id}`, { // Send token with GET request\n            headers: {\n                Authorization: `Bearer ${token}`\n            }\n        })\n            .then(res => {\n                setStatus(res.data.status);\n            })\n            .catch(err => {\n                console.error(err);\n                setError(err.response.data.message || \"An error occurred\");\n            });\n    }, [id, token]);\n\n    const handleConfirm = () => {\n        axios.put(`http://localhost:8080/api/appointment/confirm/${id}`, null, { // Send token with PUT request\n            headers: {\n                Authorization: `Bearer ${token}`\n            }\n        })\n            .then(res => {\n                console.log(res);\n                navigate('/AppPoint');\n            })\n            .catch(err => {\n                console.error(err);\n                setError(err.response.data.message || \"An error occurred\");\n            });\n    };\n\n    const handleDeny = () => {\n        axios.put(`http://localhost:8080/api/appointment/deny/${id}`, null, { // Send token with PUT request\n            headers: {\n                Authorization: `Bearer ${token}`\n            }\n        })\n            .then(res => {\n                console.log(res);\n                navigate('/AppPoint');\n            })\n            .catch(err => {\n                console.error(err);\n                setError(err.response.data.message || \"An error occurred\");\n            });\n    };\n\n    return (\n        <div>\n             <Navadmin />\n        <div className='container'>\n            <div className='moraba3'>\n                <h1 className='title'>Update Appointment Status</h1>\n                {error && <div className=\"error\">{error}</div>}\n                <div>\n                    <h3>Status: {status}</h3>\n                </div>\n                <div className='button-group'>\n                    <button onClick={handleConfirm} className='btn btn-success button'>Confirm</button>\n                    <button onClick={handleDeny} className='btn btn-danger button'>Deny</button>\n                    <Link to='/AppPoint' className='btn btn-primary button'>Back</Link>\n                </div>\n            </div>\n        </div>\n        </div>\n    );\n}\n\nexport default UpdateAppointmentStatus;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}