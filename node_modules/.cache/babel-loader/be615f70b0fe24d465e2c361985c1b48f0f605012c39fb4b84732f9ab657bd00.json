{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{Link,NavLink,useNavigate}from'react-router-dom';import{BsGrid1X2Fill,BsFillArchiveFill,BsPeopleFill,BsListCheck}from'react-icons/bs';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faSignInAlt,faSignOutAlt}from'@fortawesome/free-solid-svg-icons';import'./NavAdmin.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const NavAdmin=()=>{const[isMenuOpen,setIsMenuOpen]=useState(false);const[isAuthenticated,setIsAuthenticated]=useState(false);const navigate=useNavigate();localStorage.setItem('isAuthenticated','true');// Lors de la connexion réussie\nconst checkAuthentication=()=>{const isAuth=localStorage.getItem('isAuthenticated')==='true';setIsAuthenticated(isAuth);};useEffect(()=>{checkAuthentication();// Vérifie l'authentification au montage\nwindow.addEventListener('storage',checkAuthentication);// Surveille les changements\nreturn()=>{window.removeEventListener('storage',checkAuthentication);// Nettoie l'écouteur\n};},[]);const toggleMenu=()=>{setIsMenuOpen(!isMenuOpen);};const handleLogout=()=>{localStorage.removeItem('isAuthenticated');setIsAuthenticated(false);// Met à jour l'état local\nnavigate('/login');// Redirige vers la page de connexion\n};return/*#__PURE__*/_jsxs(\"nav\",{className:\"nav\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Link,{to:\"/home\",className:\"qu1\",children:\"N&CO\"})}),/*#__PURE__*/_jsx(\"ul\",{className:`nav__menu ${isMenuOpen?'nav__active':''}`,children:isAuthenticated?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav__item\",children:/*#__PURE__*/_jsxs(NavLink,{to:\"/AppAdmin\",activeClassName:\"active\",children:[/*#__PURE__*/_jsx(BsGrid1X2Fill,{className:\"icon\"}),\" dashboard\"]})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav__item\",children:/*#__PURE__*/_jsxs(NavLink,{to:\"/AppPoint\",activeClassName:\"active\",children:[/*#__PURE__*/_jsx(BsFillArchiveFill,{className:\"icon\"}),\" appointments\"]})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav__item\",children:/*#__PURE__*/_jsxs(NavLink,{to:\"/appuser\",activeClassName:\"active\",children:[/*#__PURE__*/_jsx(BsPeopleFill,{className:\"icon\"}),\" Clients\"]})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav__item\",children:/*#__PURE__*/_jsxs(NavLink,{to:\"/consultation\",activeClassName:\"active\",children:[/*#__PURE__*/_jsx(BsListCheck,{className:\"icon\"}),\" consultations\"]})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav__item\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:handleLogout,className:\"logout-button\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faSignOutAlt}),\" Disconnect\"]})})]}):/*#__PURE__*/_jsx(\"li\",{className:\"nav__item\",children:/*#__PURE__*/_jsxs(NavLink,{to:\"/login\",activeClassName:\"active\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faSignInAlt}),\" Connection\"]})})}),/*#__PURE__*/_jsxs(\"div\",{onClick:toggleMenu,className:`nav__toggler ${isMenuOpen?'toggle':''}`,children:[/*#__PURE__*/_jsx(\"div\",{className:\"line1\"}),/*#__PURE__*/_jsx(\"div\",{class:\"line2\"}),/*#__PURE__*/_jsx(\"div\",{class:\"line3\"})]})]});};export default NavAdmin;","map":{"version":3,"names":["React","useEffect","useState","Link","NavLink","useNavigate","BsGrid1X2Fill","BsFillArchiveFill","BsPeopleFill","BsListCheck","FontAwesomeIcon","faSignInAlt","faSignOutAlt","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","NavAdmin","isMenuOpen","setIsMenuOpen","isAuthenticated","setIsAuthenticated","navigate","localStorage","setItem","checkAuthentication","isAuth","getItem","window","addEventListener","removeEventListener","toggleMenu","handleLogout","removeItem","className","children","to","activeClassName","onClick","icon","class"],"sources":["C:/siteavocat-dev/src/components/admin/admin/Navadmin.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Link, NavLink, useNavigate } from 'react-router-dom';\nimport { BsGrid1X2Fill, BsFillArchiveFill, BsPeopleFill, BsListCheck } from 'react-icons/bs';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faSignInAlt, faSignOutAlt } from '@fortawesome/free-solid-svg-icons';\n\nimport './NavAdmin.css';\n\n\nconst NavAdmin = () => {\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const navigate = useNavigate();\n  localStorage.setItem('isAuthenticated', 'true'); // Lors de la connexion réussie\n\n  const checkAuthentication = () => {\n    const isAuth = localStorage.getItem('isAuthenticated') === 'true';\n    setIsAuthenticated(isAuth);\n  };\n  \n  useEffect(() => {\n    checkAuthentication(); // Vérifie l'authentification au montage\n    window.addEventListener('storage', checkAuthentication); // Surveille les changements\n\n    return () => {\n      window.removeEventListener('storage', checkAuthentication); // Nettoie l'écouteur\n    };\n  }, []);\n\n  const toggleMenu = () => {\n    setIsMenuOpen(!isMenuOpen);\n  };\n\n  const handleLogout = () => {\n    localStorage.removeItem('isAuthenticated');\n    setIsAuthenticated(false); // Met à jour l'état local\n    navigate('/login'); // Redirige vers la page de connexion\n  };\n\n  return (\n    <nav className=\"nav\">\n     <div>\n          <Link to=\"/home\" className=\"qu1\">\n            N&CO\n          </Link>\n        </div>\n\n      <ul className={`nav__menu ${isMenuOpen ? 'nav__active' : ''}`}>\n        {isAuthenticated ? (\n          <>\n            <li className=\"nav__item\">\n              <NavLink to=\"/AppAdmin\" activeClassName=\"active\">\n                <BsGrid1X2Fill className='icon' /> dashboard\n              </NavLink>\n            </li>\n            <li className=\"nav__item\">\n              <NavLink to=\"/AppPoint\" activeClassName=\"active\">\n                <BsFillArchiveFill className='icon' /> appointments\n              </NavLink>\n            </li>\n            <li className=\"nav__item\">\n              <NavLink to=\"/appuser\" activeClassName=\"active\">\n                <BsPeopleFill className='icon' /> Clients\n              </NavLink>\n            </li>\n            <li className=\"nav__item\">\n              <NavLink to=\"/consultation\" activeClassName=\"active\">\n                <BsListCheck className='icon' /> consultations\n              </NavLink>\n            </li>\n            <li className=\"nav__item\">\n              <button onClick={handleLogout} className=\"logout-button\">\n                <FontAwesomeIcon icon={faSignOutAlt} /> Disconnect\n              </button>\n            </li>\n\n          </>\n        ) : (\n          <li className=\"nav__item\">\n            <NavLink to=\"/login\" activeClassName=\"active\">\n              <FontAwesomeIcon icon={faSignInAlt} /> Connection\n            </NavLink>\n          </li>\n        )}\n      </ul>\n\n      <div onClick={toggleMenu} className={`nav__toggler ${isMenuOpen ? 'toggle' : ''}`}>\n        <div className=\"line1\"></div>\n        <div class=\"line2\"></div>\n        <div class=\"line3\"></div>\n      </div>\n    </nav>\n  );\n};\n\nexport default NavAdmin;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}