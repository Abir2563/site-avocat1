{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{Link}from\"react-router-dom\";import\"./navbar.css\";import userIcon from\"../../images/Name.png\";import logo from\"../../images/a.ico\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Navbar(){const[userRole,setUserRole]=useState(\"\");const[isOpen,setIsOpen]=useState(false);const handleToggle=()=>setIsOpen(!isOpen);const[isLoggedIn,setIsLoggedIn]=useState(false);useEffect(()=>{// Check if user is logged in\nconst token=localStorage.getItem(\"token\");if(token){setIsLoggedIn(true);const role=localStorage.getItem(\"role\");setUserRole(role);}else{setIsLoggedIn(false);}},[]);const handleLogout=()=>{localStorage.removeItem(\"token\");setIsLoggedIn(false);// Redirect user to login page after logout\nwindow.location.href=\"/login\";};const handleReserverClick=()=>{if(!isLoggedIn&&userRole===\"client\"){// Redirect user to login page if not logged in\nwindow.location.href=\"/login\";}else{window.location.href=\"/reserver\";}};const handleProfileClick=()=>{if(isLoggedIn&&userRole===\"client\"){window.location.href=\"/profile\";}else{// Redirect user to login page if not authenticated or not a client\nwindow.location.href=\"/login\";}};return/*#__PURE__*/_jsxs(\"nav\",{className:\"Navbar\",id:\"Navb\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"/home\",className:\"log\",children:/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"logo\",className:\"logo1\"})}),/*#__PURE__*/_jsx(\"div\",{className:`nav-toggle`,onClick:handleToggle,children:\"\\u2630\"}),/*#__PURE__*/_jsxs(\"ul\",{className:`navigation ${isOpen?'show':''}`,children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/EspaceClient\",className:\"linknav\",children:\"Accueil\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/team\",className:\"linknav\",children:\"\\xC9quipe\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/service\",className:\"linknav\",children:\"Services\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/media\",className:\"linknav\",children:\"M\\xE9dia\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/contactus\",className:\"linknav\",children:\"Contactez-Nous\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/newsletter\",className:\"linknav\",children:\"Newsletter\"})}),isLoggedIn&&(userRole===\"client\"||userRole===\"admin\")&&/*#__PURE__*/_jsxs(\"div\",{className:\"menu-container\",onMouseLeave:()=>setIsOpen(false),children:[/*#__PURE__*/_jsx(\"img\",{src:userIcon,alt:\"Profile\",id:\"pro\",className:\"profil\",onClick:()=>setIsOpen(!isOpen)}),isOpen&&/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-menu\",children:[/*#__PURE__*/_jsx(Link,{to:\"/profile\",children:\"Mon Profil\"}),/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"logout\",onClick:handleLogout,children:\"D\\xE9connexion\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{})]});}export default Navbar;","map":{"version":3,"names":["React","useState","useEffect","Link","userIcon","logo","jsx","_jsx","jsxs","_jsxs","Navbar","userRole","setUserRole","isOpen","setIsOpen","handleToggle","isLoggedIn","setIsLoggedIn","token","localStorage","getItem","role","handleLogout","removeItem","window","location","href","handleReserverClick","handleProfileClick","className","id","children","src","alt","onClick","to","onMouseLeave"],"sources":["C:/siteavocat-dev/src/components/navbar/navbar.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./navbar.css\";\nimport userIcon from \"../../images/Name.png\";\nimport logo from \"../../images/a.ico\";\n\nfunction Navbar() {\n  const [userRole, setUserRole] = useState(\"\");\n  const [isOpen, setIsOpen] = useState(false);\n  const handleToggle = () => setIsOpen(!isOpen);\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n\n  useEffect(() => {\n    // Check if user is logged in\n    const token = localStorage.getItem(\"token\");\n    if (token) {\n      setIsLoggedIn(true);\n      const role = localStorage.getItem(\"role\");\n      setUserRole(role);\n    } else {\n      setIsLoggedIn(false);\n    }\n  }, []);\n\n  const handleLogout = () => {\n    localStorage.removeItem(\"token\");\n    setIsLoggedIn(false);\n    // Redirect user to login page after logout\n    window.location.href = \"/login\";\n  };\n\n  const handleReserverClick = () => {\n    if (!isLoggedIn && userRole === \"client\") {\n      // Redirect user to login page if not logged in\n      window.location.href = \"/login\";\n    } else {\n      window.location.href = \"/reserver\";\n    }\n  };\n\n  const handleProfileClick = () => {\n    if (isLoggedIn && userRole === \"client\") {\n      window.location.href = \"/profile\";\n    } else {\n      // Redirect user to login page if not authenticated or not a client\n      window.location.href = \"/login\";\n    }\n  };\n\n  return (\n    <nav className=\"Navbar\" id=\"Navb\">\n      <a href=\"/home\" className=\"log\">\n        <img src={logo} alt=\"logo\" className=\"logo1\"/>\n      </a>\n      <div className={`nav-toggle`} onClick={handleToggle}>\n            ‚ò∞\n      </div>\n<ul className={`navigation ${isOpen ? 'show' : ''}`}>\n  <li><Link to=\"/EspaceClient\" className=\"linknav\">Accueil</Link></li>\n  <li><Link to=\"/team\" className=\"linknav\">√âquipe</Link></li>\n  <li><Link to=\"/service\" className=\"linknav\">Services</Link></li>\n  <li><Link to=\"/media\" className=\"linknav\">M√©dia</Link></li>\n  <li><Link to=\"/contactus\" className=\"linknav\">Contactez-Nous</Link></li>\n  <li><Link to=\"/newsletter\" className=\"linknav\">Newsletter</Link></li>\n  \n  {/* üîê Liens priv√©s selon r√¥le */}\n\n    {/* üîê Liens priv√©s selon r√¥le */}\n  {isLoggedIn && (userRole === \"client\" || userRole === \"admin\") && (\n              <div className=\"menu-container\" onMouseLeave={() => setIsOpen(false)}>\n                <img src={userIcon} alt=\"Profile\" id=\"pro\" className=\"profil\" onClick={() => setIsOpen(!isOpen)}/>\n                {isOpen && (\n                  <div className=\"dropdown-menu\">\n                    <Link to=\"/profile\">Mon Profil</Link>\n                    \n                    <Link to=\"/login\" className=\"logout\" onClick={handleLogout}>D√©connexion</Link>\n                    {/*<button onClick={handleLogout} className=\"\"\n                      D√©connexion\n                    </button>>*/}\n                  </div>\n                )}\n              </div>\n  )}\n</ul>\n\n\n      <div>\n        {/*<select className=\"fr-en\">\n          <option className=\"linknavfr-en\" value=\"fr\">\n            Fr\n          </option>\n          <option className=\"linknavfr-en\" value=\"en\">\n            ENG\n          </option>\n          ¬†¬†¬†¬†¬†¬†\n        </select>\n        <a onClick={handleProfileClick}>\n          <img src={userIcon} alt=\"log\" className=\"profil\" />\n        </a>*/}\n        {/*{isLoggedIn && userRole === \"client\" && (\n          <button className=\"dbu\" onClick={handleLogout}>\n            Disconnect\n          </button>\n        )}\n\n        <Link\n          to=\"/login\"\n          onMouseEnter={() => {\n            document.querySelector(\".actionButton\").classList.add(\"hover\");\n          }}\n          onMouseLeave={() => {\n            document.querySelector(\".actionButton\").classList.remove(\"hover\");\n          }}\n        >\n          {/*<button className=\"actionButton\">Calendrier</button>\n        </Link>*/}\n      </div>\n    </nav>\n  );\n}\n\nexport default Navbar;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}